<form data-bind="submit: submit, with: entity">
  <card-submit-actions params="{reset: $component.reset}"></card-submit-actions>
  <!-- ko if: $component.addForm -->
  <div class="h4 collapsable-card-title">New NPC</div>
  <!-- /ko -->
  <div class="row">
    <div class="form-group col-xs-12">
      <label>Name<i class="required"></i></label>
      <input
        type="text"
        class="form-control"
        name="name"
        placeholder="Khidell the Ferryman"
        data-bind="
          textInput: name,
          hasFocus: $component.formElementHasFocus,
          event: { blur: $component.reviewInput, invalid: $component.invalidate },
          attr: { ...$component.validation.name },
        "
      />
    </div>
    <div class="form-group col-xs-12">
      <label>Race</i></label>
      <input
        type="text"
        class="form-control"
        name="race"
        placeholder="Elf"
        data-bind="
          value: race,
          event: { blur: $component.reviewInput, invalid: $component.invalidate },
          attr: { ...$component.validation.race },
        "
      />
    </div>
    <div class="form-group col-xs-12">
      <div class="d-flex justify-content-between">
        <label class="d-flex-1">
          Image URL<i class="required"></i></label>
        </label>
        <div class="d-flex-1 text-right text-muted">
          <i
            class="fa fa-info-circle"
            title="This field will be sent to the players via the exhibit."
          ></i>&nbsp; Exhibit
        </div>
      </div>
      <input
        type="url"
        class="form-control"
        name="sourceUrl"
        placeholder="http://myurl.com/image.jpg"
        data-bind="
          value: sourceUrl,
          event: { blur: $component.reviewInput, invalid: $component.invalidate },
          attr: { ...$component.validation.sourceUrl },
        "
      />
      <media-manager
        params="
          forceCardResize: $parents[1].forceCardResize,
          setImageUrl: sourceUrl,
          tabId: 'encounter_npc',
        "
      />
      <d20photos-help />
    </div>
    <div class="form-group col-xs-12">
      <label>Description</label>
      <textarea
        type="text"
        class="form-control"
        name="description"
        rows="4"
        placeholder="Who is this person?"
        data-bind="
          value: description,
          event: { blur: $component.reviewInput, invalid: $component.invalidate },
          attr: { ...$component.validation.description },
        "></textarea>
        <markdown-help />
    </div>
    <div class="form-group col-xs-12">
      <div class="d-flex justify-content-between">
        <label class="d-flex-1">
          Read Aloud Text
        </label>
        <div class="d-flex-1 text-right text-muted">
          <i
            class="fa fa-info-circle"
            title="This field will be sent to the players via the exhibit."
          ></i>&nbsp; Exhibit
        </div>
      </div>
      <textarea
        type="text"
        class="form-control"
        name="playerText"
        rows="4"
        placeholder="What will you tell the players?"
        data-bind="
          value: playerText,
          event: { blur: $component.reviewInput, invalid: $component.invalidate },
          attr: { ...$component.validation.playerText },
        "></textarea>
        <markdown-help />
    </div>
  </div>
  <div class="modal-footer">
    <form-submit-actions params="{
      reset: $component.reset,
      delete: $component.delete,
      addForm: $component.addForm,
    }"></form-submit-actions>
  </div>
</form>
