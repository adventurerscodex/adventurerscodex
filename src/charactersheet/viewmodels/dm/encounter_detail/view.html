<!-- Encounter Sections -->
<!-- ko if: encounter -->
<div class="card-title h4 text-left mb-0 pb-0">
  <back-button params="{ column: column }"></back-button>
  <span data-bind="text: encounter().name"></span><br />
  <!-- ko if: encounter().location -->
  <small data-bind="text: encounter().location"></small>
  <!--/ko -->
  <!-- ko ifnot: encounter().location -->
  <small>&nbsp;</small>
  <!--/ko -->
  <card-edit-actions params="{ flip: flip }"></card-edit-actions>
</div>
<small>&nbsp;</small>
<hr class="ac-table-header">
<!-- Encounter tabs -->

<div class="pl-3 pr-3" data-bind="with: encounter">
  <small
    class="d-block"
    data-bind=""
  >
    <i class="fa fa-trophy mr-1"></i>
    <!-- ko if: hasObjective -->
    <span data-bind="text: objective"></span>
    <!-- /ko -->
    <!-- ko ifnot: hasObjective -->
    <span class="text-muted">
      Add a goal or objective for this encounter
    </span>
    <!-- /ko -->
  </small>
  <!-- ko if: isComplete -->
  <small class="d-block">
    <i class="fa fa-check-circle-o mr-1"></i>
    Completed <span data-bind="text: completedOn"></span>
  </small>
  <!-- /ko -->
  <!-- ko ifnot: isComplete -->
  <button
    class="btn btn-xs btn-primary text-center d-block mt-1"
    style="width: 100%;"
    data-bind="click: async () => await markAsComplete()"
  >
    <i class="fa fa-check-circle-o mr-1"></i>
    Mark as Complete
  </button>
  <!-- /ko -->
</div>

<hr class="ac-table-header mt-2 mb-2" />

<h4 class="ml-2">Sections</h4>
<ul class="list-group master-list" role="tablist">
  <button
    class="list-group-item d-flex"
    style="justify-content: space-between;"
    href="#environment"
    data-bind="
      click: () => push('environment-section', {encounter}),
      visible: sectionIsVisible('environment'),
      css: { 'active': sectionIsActive('environment-section') }
    "
  >
    Environment
    <i class="fa fa-magic text-muted"></i>
  </button>
  <button
    class="list-group-item"
    href="#traps"
    data-bind="
      click: () => push('traps-section', {encounter}),
      visible: sectionIsVisible('traps'),
      css: { 'active': sectionIsActive('traps-section') }
    "
  >
    Traps
  </button>
  <button
    class="list-group-item"
    href="#moi"
    data-bind="
      click: () => push('maps-and-images-section', {encounter}),
      visible: sectionIsVisible('mapsAndImages'),
      css: { 'active': sectionIsActive('maps-and-images-section') }
    "
  >
    Maps &amp; Images
  </button>
  <button
    class="list-group-item d-flex"
    style="justify-content: space-between;"
    href="#poi"
    data-bind="
      click: () => push('point-of-interest-section', {encounter}),
      visible: sectionIsVisible('pointsOfInterest'),
      css: { 'active': sectionIsActive('point-of-interest-section') }
    "
  >
    Points of Interest
    <i class="fa fa-magic text-muted"></i>
  </button>
  <button
    class="list-group-item d-flex"
    style="justify-content: space-between;"
    href="#player-text"
    data-bind="
      click: () => push('read-aloud-text-section', {encounter}),
      visible: sectionIsVisible('readAloudText'),
      css: { 'active': sectionIsActive('read-aloud-text-section') }
    "
  >
    Read Aloud Text
    <i class="fa fa-magic text-muted"></i>
  </button>
  <button
    class="list-group-item d-flex"
    style="justify-content: space-between;"
    href="#npcs"
    data-bind="
      click: () => push('npc-section', {encounter}),
      visible: sectionIsVisible('npcs'),
      css: { 'active': sectionIsActive('npc-section') }
    "
  >
    NPCs
    <i class="fa fa-magic text-muted"></i>
  </button>
  <button
    class="list-group-item"
    href="#monsters"
    data-bind="
      click: () => push('monster-section', {encounter}),
      visible: sectionIsVisible('monsters'),
      css: { 'active': sectionIsActive('monster-section') }
    "
  >
    Monsters
  </button>
  <button
    class="list-group-item"
    href="#treasure"
    data-bind="
      click: () => push('treasure-section', {encounter}),
      visible: sectionIsVisible('treasure'),
      css: { 'active': sectionIsActive('treasure-section') }
    "
  >
    Treasure
  </button>
  <button
    class="list-group-item"
    href="#notes"
    data-bind="
      click: () => push('notes-section', {encounter}),
      visible: sectionIsVisible('notes'),
      css: { 'active': sectionIsActive('notes-section') }
    "
  >
    Notes
  </button>
</ul>
<!-- /ko -->
