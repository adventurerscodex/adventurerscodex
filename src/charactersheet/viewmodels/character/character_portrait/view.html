<card-edit-actions params="{ flip: $component.flip }"></card-edit-actions>
<div id="characters">
  <div class="d-flex justify-content-center" style="gap: 2rem;"> <!-- padding for edit button -->
    <!-- ko ifnot: loaded(), completeOn: 'render' -->
    <div style="height: 100px" class="loader-wrapper"><div style="width: 75px; height:75px; margin: 25px auto" class="loader"></div></div>
    <!-- /ko -->
    <!-- ko if: loaded(), completeOn: 'render' -->
    <div class="ml-3 mr-3">
      <div class="circular-profile no-padding center-block"
        data-bind="attr: {
            height: $component.imageHeight,
            width: $component.imageWidth,
          },
          css: imageBorderClass
        "
      >
        <div class="image-upload-preview text-center" data-bind="with: profileImage">
          <!-- ko if: imageUrl -->
          <img class="img-circle"
            data-bind="
              css: {
                'patron-circle': $component.isActivePatron,
                [$component.canonicalPatreonTier()]: $component.isActivePatron,
              },
              attr: {
                src: imageUrl,
                height: $component.imageHeight,
                width: $component.imageWidth
              }
            ">
          <!-- /ko -->
          <!-- ko ifnot: imageUrl -->
          <div class="text-muted player-image-style" id="profilePictureAddToggle">
            <small>A mysterious stranger</small>
          </div>
          <!-- /ko -->
        </div>
      </div>
      <div class="connection-status">
        <div
          class="circle-indicator"
          data-bind="css: statusIndicatorClass"
        ></div>
      </div>
    </div>
    <div>
      <!-- ko with: $component.profile -->
      <div class="h3 mt-0 mb-0">
        <span id="nameLabel" data-bind="text: characterName"></span>
        <!-- ko if: $component.core().playerName() -->
        <small>by <span data-bind="text: $component.core().playerName()"></span></small>
        <!-- /ko -->
      </div>
      <!-- /ko -->
      <div>
        <character-status-line></character-status-line>
      </div>
      <!-- ko with: $component.party -->
      <!-- ko if: $data.campaign -->
      <div>
        <span data-bind="text: campaign.name"></span>
      </div>
      <!-- ko if: campaign.setting -->
      <div>
        <small data-bind="text: campaign.setting"></small>
      </div>
      <!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
      <div>
        <party-status></party-status>
      </div>
    </div>
    <div class="d-flex-1">
      <!-- Spacer -->
      &nbsp;
    </div>
    <!-- /ko -->
  </div>
</div>
