<!-- ko if: loaded -->
<form class="form-horizontal" data-bind="{submit: $component.submit}">
  <div class="btn-group edit-btn" role="group" aria-label="actionButtons">
    <button class="btn btn-link btn-danger" data-bind="click: $component.reset" type="reset">
        <span class="glyphicon glyphicon-ban-circle" aria-hidden="true">
        </span>
    </button>
    <button class="btn btn-link btn-success" type="submit" value="submit">
        <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true">
        </span>
    </button>
  </div>
<table class="table table-responsive table-ac-bordered table-hover">
  <thead>
    <tr>
      <th data-bind="click: ()=>{sortBy('proficiency');}">
        <span class="glyphicon glyphicon-ok"></span>
        <span data-bind="css: sortArrow('proficiency')"></span>
      </th>
      <th data-bind="click: ()=>{sortBy('name');}">
        Skill
        <span data-bind="css: sortArrow('name')"></span>
      </th>
      <th colspan="2">
        Modifier (Bonus)
      </th>
    </tr>
  </thead>
   <tbody data-bind='foreach: filteredAndSortedSkills'>
    <tr>
        <td class="selectDropdown">
         <div data-bind="attr: {id: `skill_proficiency_select_${$data.__id}`}" class="selectit select-proficiency" style="position:relative">
          <select class="form-control" style="width: 50px; position:relative"
          data-bind="value: proficiency,
          options: $component.proficiencyOptions,
          event: { change: $component.updateSkill  },
          select2: {
            placeholder: '',
            minimumResultsForSearch: Infinity,
            templateSelection: $component.formatProficiency,
            templateResult: $component.formatProficiencyOptions,
            dropdownParent: $(`#skill_proficiency_select_${$data.__id}`)
           }"></select>
         </div>
        </td>
        <td><span data-bind="html: nameLabel"></span></td>
        <td style="width: 100px;">
          <div class="input-group skill-modifier-input">
            <input type="number" class="form-control"
                   data-bind="textInput: modifier, event: { change: $component.updateSkill }"></input>
            <span class="input-group-addon">
              <span data-bind="text: bonusNumber"></span>
            </span>
          </div>
        </td>
        <td>
          <a data-bind="click: $component.removeSkill" href="#">
            <i class="fa fa-trash-o fa-color-hover"></i>
          </a>
        </td>
    </tr>
  </tbody>
</table>
</form>
  <div id="add-skill" class="collapse panel-body">
    <skills-add-form-view params="{
      containerId: 'add-skill',
      addSkillToView: addSkillToView,
      showAddForm: $component.showAddForm,
      toggleShowAddForm: $component.toggleShowAddForm
      }">
    </skills-add-form-view>
    <hr />
  </div>
<!-- ko ifnot: $component.showAddForm -->
<button type="button"
        class="btn btn-link btn-sm btn-block"
        id="skillAddButton"
        data-toggle="collapse"
        data-target="#add-skill"
        data-bind="click: $component.toggleShowAddForm"><i class="fa fa-plus"></i> Add Skill</button>
<!-- /ko -->
<!--/ko -->
