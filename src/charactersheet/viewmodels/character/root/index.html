<character-portrait></character-portrait>
<party-manager></party-manager>
<div class="spacer"></div>
<div role="presentation"
     class="secondary-nav visible-xs">
  <button class="btn btn-sm btn-primary"
          id="actionsActionsButton"
          data-toggle="collapse"
          data-bind="click: toggleWellOpen"
          data-target="#actionsCollapse"
          aria-expanded="false"
          aria-controls="actionsCollapse">
    Actions
    <i data-bind="css: arrowIconClass"
       aria-hidden="true"></i>
  </button>
  <button class="btn btn-sm btn-secondary"
          id="settingsMobileButton"
          data-toggle="collapse"
          data-bind="click: toggleSettingsWell"
          data-target="#settingsCollapse"
          aria-expanded="false"
          aria-controls="settingsCollapse">
    <i class="fa fa-lg fa-gear"></i>
    <span class="sr-only">Settings</span>
    <i data-bind="css: settingsArrowIconClass"
       aria-hidden="true"></i>
  </button>
</div>
<div class="navbar-header tab-actions"><button type="button"
          class="btn btn-block navbar-toggle collapsed"
          data-toggle="collapse"
          data-target="#descriptionTab"
          aria-expanded="false"
          aria-controls="navbar">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
</div>
<div class="navbar-collapse collapse"
     id="descriptionTab">
  <ul class="nav nav-tabs tabs">
    <!-- ko if: activeCharacter().settings().showStatsTab -->
    <li role="presentation"
        id="tabStatsLink">
      <a href="#stats"
         aria-controls="stats"
         role="tab"
         data-toggle="tab"
         id="statsTabTrigger"
         class="tab-subtext"
         data-bind="click: activateStatsTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.statsTab }" />
          <span class="text-center"
                id="tabStatsSpan"><small>Stats</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.statsTab }" />
          <br />
          <span class="text-center"
                id="tabStatsSpan"><small>Stats</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showSkillsTab -->
    <li role="presentation"
        id="tabSkillsLink">
      <a href="#skills"
         aria-controls="skills"
         role="tab"
         data-toggle="tab"
         id="skillsTabTrigger"
         class="tab-subtext"
         data-bind="click: activateSkillsTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.skillsTab }" />
          <span class="text-center"
                id="tabSkillsSpan"><small>Skills</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.skillsTab }" />
          <br />
          <span class="text-center"
                id="tabSkillsSpan"><small>Skills</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showSpellsTab -->
    <li role="presentation"
        id="tabSpellsLink">
      <a href="#spells"
         aria-controls="spells"
         role="tab"
         data-toggle="tab"
         id="spellsTabTrigger"
         class="tab-subtext"
         data-bind="click: activateSpellsTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.spellsTab }" />
          <span class="text-center"
                id="tabSpellsSpan"><small>Spells</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.spellsTab }" />
          <br />
          <span class="text-center"
                id="tabSpellsSpan"><small>Spells</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showEquipmentTab -->
    <li role="presentation"
        id="tabEquipmentLink">
      <a href="#equipment"
         aria-controls="equipment"
         role="tab"
         data-toggle="tab"
         id="itemsTabTrigger"
         class="tab-subtext"
         data-bind="click: activateEquipmentTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.battleGear }" />
          <span class="text-center"
                id="tabEquipmentSpan"><small>Equipment</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.battleGear }" />
          <br />
          <span class="text-center"
                id="tabEquipmentSpan"><small>Equipment</small></span>
        </div>

      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showInventoryTab -->
    <li role="presentation"
        id="tabInventoryLink">
      <a href="#inventory"
         aria-controls="inventory"
         role="tab"
         data-toggle="tab"
         id="inventoryTabTrigger"
         class="tab-subtext"
         data-bind="click: activateInventoryTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.inventoryTab }" />
          <span class="text-center"
                id="tabInventorySpan"><small>Inventory</small></span>
        </div>
        <div class="hidden-xs">

          <img class="tab-icon"
               data-bind="attr: { src: icons.inventoryTab }" />
          <br />
          <span class="text-center"
                id="tabInventorySpan"><small>Inventory</small></span>
        </div>

      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showCompanionsTab -->
    <li role="presentation"
        id="tabCompanionsLink">
      <a href="#companions"
        aria-controls="companions"
        role="tab"
        data-toggle="tab"
        id="companionsTabTrigger"
        class="tab-subtext"
        data-bind="click: activateCompanionsTab">
        <div class="visible-xs"
            data-toggle="collapse"
            data-target="#descriptionTab">
          <img class="tab-icon"
              data-bind="attr: { src: icons.companionsTab }" />
          <span class="text-center"
                id="tabCompanionSpan"><small>Companions</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
              data-bind="attr: { src: icons.companionsTab }" />
          <br />
          <span class="text-center"
                id="tabCompanionSpan"><small>Companions</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showNotesTab -->
    <li role="presentation"
        id="tabNotesLink">
      <a href="#notes"
         aria-controls="notes"
         role="tab"
         data-toggle="tab"
         id="notesTabTrigger"
         class="tab-subtext"
         data-bind="click: activateNotesTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">

          <img class="tab-icon"
               data-bind="attr: { src: icons.notesTab }" />
          <span class="text-center"
                id="tabNotesSpan"><small>Notes</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.notesTab }" />
          <br />
          <span class="text-center"
                id="tabNotesSpan"><small>Notes</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showPartyTab -->
    <li role="presentation"
        id="tabPartyLink">
      <a href="#party"
         aria-controls="party"
         role="tab"
         data-toggle="tab"
         id="partyTabTrigger"
         class="tab-subtext"
         data-bind="click: activatePartyTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#partyTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.partyTab }" />
          <span class="text-center"
                id="tabPartySpan"><small>Party</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.partyTab }" />
          <br />
          <span class="text-center"
                id="tabPartySpan"><small>Party</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- ko if: activeCharacter().settings().showExhibitTab -->
    <li role="presentation"
        id="tabExhibitLink">
      <a href="#exhibit"
         aria-controls="exhibit"
         role="tab"
         data-toggle="tab"
         id="exhibitTabTrigger"
         class="tab-subtext"
         data-bind="click: activateExhibitTab">
        <div class="visible-xs"
             data-toggle="collapse"
             data-target="#descriptionTab">
          <img class="tab-icon"
               data-bind="attr: { src: icons.exhibitTab }" />
          <span class="text-center"
                id="tabExhibitSpan"><small>Exhibit</small></span>
        </div>
        <div class="hidden-xs">
          <img class="tab-icon"
               data-bind="attr: { src: icons.exhibitTab }" />
          <br />
          <span class="text-center"
                id="tabExhibitSpan"><small>Exhibit</small></span>
        </div>
      </a>
    </li>
    <!-- /ko -->
    <!-- Right tabs -->
    <li role="presentation"
        class="secondary-nav hidden-xs">
      <button
        class="btn btn-sm btn-secondary"
        id="settingsCollapseButton"
        data-toggle="collapse"
        data-bind="click: toggleSettingsWell"
        data-target="#settingsCollapse"
        aria-expanded="false"
        aria-controls="settingsCollapse"
      >
        <i class="fa fa-lg fa-gear"></i>
        <span class="sr-only">Settings</span>
        <i data-bind="css: settingsArrowIconClass"
           aria-hidden="true"></i>
      </button>
    </li>
    <li role="presentation"
        class="secondary-nav hidden-xs">
      <button class="btn btn-sm btn-primary"
              id="actionsActionsButton"
              data-toggle="collapse"
              data-bind="click: toggleWellOpen"
              data-target="#actionsCollapse"
              aria-expanded="false"
              aria-controls="actionsCollapse">
        Actions
        <i data-bind="css: arrowIconClass"
           aria-hidden="true"></i>
      </button>
    </li>
  </ul>
</div>
<div class="tab-content">
  <actions-toolbar params="wellState: wellState"></actions-toolbar>
  <settings params="
    core: activeCharacter,
    isOpen: settingsWellState
  "></settings>
  <div role="tabpanel"
       class="tab-pane"
       id="stats"
       data-bind="css: statsTabStatus">
    <div class="row">
      <div class="col col-xs-12 col-sm-12 col-md-8 col-lg-6 col-lg-push-3"
           style="z-index: 6">
        <stats params="{tabId: 'stats'}"></stats>
      </div>
      <div class="col col-xs-12 col-sm-6 col-md-4 col-lg-3 col-lg-push-3"
           style="z-index: 4">
        <ability-scores params="{tabId: 'stats'}"></ability-scores>
      </div>
      <div class="clearfix visible-md-block"></div>
      <div class="col col-xs-12 col-sm-6 col-md-4 col-md-push-8 col-lg-3 col-lg-push-0 col-lg-pull-9"
           style="z-index: 5">
        <other-stats params="{tabId: 'stats'}"></other-stats>
      </div>
      <div class="clearfix visible-lg-block"></div>
      <div class="col col-xs-12 col-sm-12 col-md-8 col-md-pull-4 col-lg-12 col-lg-pull-0"
           style="z-index: 3">
        <profile params="{tabId: 'stats'}"></profile>
      </div>
      <div class="clearfix"></div>
      <div class="col col-xs-12"
           style="z-index: 2">
        <background params="{tabId: 'stats'}"></background>
      </div>
    </div>
  </div>
  <!-- End Stats Tab -->

  <div role="tabpanel"
       class="tab-pane"
       id="skills"
       data-bind="css: skillsTabStatus">
    <div class="row">
      <div class="col col-xs-12 col-lg-8"
           style="position:relative; z-index: 9">
        <tracker params="{tabId: 'skills'}"></tracker>
      </div>
      <div class="col col-xs-12 col-sm-6 col-md-5 col-lg-4"
           style="position:relative; z-index: 7; float:right">
        <skills params="{tabId: 'skills'}"></skills>
      </div>
      <div class="col col-xs-12 col-sm-6 col-md-7 col-lg-8" style="overflow:hidden">
        <!-- overflow: hidden fixes an issue on iOS where the multiple negative
             margins of the nested rows causes a left-right wiggle -->
        <div class="row">
          <div class="col col-xs-12 col-sm-12 col-lg-6">
            <div class="row">
              <div class="col col-xs-12"
                   style="position:relative; z-index: 8">
                <features params="{tabId: 'skills'}"></features>
              </div>
              <div class="col col-xs-12"
                   style="position:relative; z-index: 7">
                <traits params="{tabId: 'skills'}"></traits>
              </div>
            </div>
          </div>
          <div class="col col-sm-12 col-lg-6">
            <div class="row">
              <div class="col col-xs-12"
                   style="position:relative; z-index: 6">
                <feats params="{tabId: 'skills'}"></feats>
              </div>
              <div class="col col-xs-12"
                   style="position:relative; z-index: 6">
                <proficiencies params="{tabId: 'skills'}"></proficiencies>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Skills Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="spells"
       data-bind="css: spellsTabStatus">
    <div class="row">
      <div class="col col-xs-12 col-sm-4 col-sm-push-8 col-lg-3 col-lg-push-9">
        <spell-stats params="{tabId: 'spells'}"></spell-stats>
      </div>
      <div class="col col-xs-12 col-sm-8 col-sm-pull-4 col-lg-9 col-lg-pull-3">
        <spell-slots params="{tabId: 'spells'}"></spell-slots>
      </div>
       <div class="col col-xs-12 col-sm-12">
        <spells params="{tabId: 'spells'}"></spells>
      </div>
    </div>
  </div>
  <!-- End Spells Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="equipment"
       data-bind="css: equipmentTabStatus">
    <div class="row">
      <div class="col col-xs-12">
        <weapons params="{tabId: 'equipment'}"></weapons>
      </div>
      <div class="col col-xs-12 col-md-6">
        <magic-items params="{tabId: 'equipment'}"></magic-items>
      </div>
      <div class="col col-xs-12 col-md-6">
        <armor params="{tabId: 'equipment'}"></armor>
      </div>
    </div>
  </div>
  <!-- End Equipment Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="inventory"
       data-bind="css: inventoryTabStatus">
    <div class="row">
      <div class="col col-xs-12 col-sm-4 col-md-3">
        <wealth params="{tabId: 'inventory'}"></wealth>
      </div>
      <div class="col col-xs-12 col-sm-8 col-md-9">
        <items params="{tabId: 'inventory'}"></items>
      </div>
    </div>
  </div>
  <!-- End Inventory Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="companions"
       data-bind="css: companionsTabStatus">
    <div class="row">
      <div class="col col-xs-12"
           style="z-index: 4">
        <companions-list params="{tabId: 'companions'}"></companions-list>
      </div>
    </div>
  </div>
 <!-- End companions Tab -->
 <div role="tabpanel"
      class="tab-pane"
      id="notes"
      data-bind="css: notesTabStatus">
    <div class="row">
      <div class="col col-xs-12"
          style="z-index: 4">
        <notes-list params="{tabId: 'notes'}"></notes-list>
      </div>
    </div>
  </div>
  <!-- End Notes Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="party"
       data-bind="css: partyTabStatus">
    <party></party>
  </div>
  <!-- End Party Tab -->
  <div role="tabpanel"
       class="tab-pane"
       id="exhibit"
       data-bind="css: exhibitTabStatus">
    <exhibit></exhibit>
  </div>
  <!-- End Exhibit Tab -->
</div>
