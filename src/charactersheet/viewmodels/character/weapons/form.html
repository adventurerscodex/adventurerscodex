<form data-bind="submit: $component.submit">
  <card-action-buttons params="{reset: $component.reset}"></card-action-buttons>
  <div class="row"
       data-bind="with: entity">
       <!-- ko if: $component.existingData -->
       <div class="col-xs-12">
         <div class="h4" data-bind="text: name">
         </div>
       </div>
       <!-- /ko -->

    <!-- ko ifnot: $component.existingData -->
    <div class="col-xs-12">
      <div class="h4">
        New Weapon
      </div>
    </div>
    <!-- /ko -->
    <div class="form-group col-sm-6 col-md-4 col-lg-3">
      <label for="name"
             class="control-label">Name</label>
      <input type="text"
             class="form-control"
             placeholder="Short Sword"
             required="true"
             data-bind='textInput: name,
                         hasFocus: $component.formElementHasFocus,
                         autocomplete: {
                          source: $component.weaponsPrePopFilter,
                          onselect: $component.populateWeapon }'>
    </div>
    <div class="form-group col-sm-6 col-md-4 col-lg-3">
      <label for="damage"
             class="control-label">Damage</label>
      <input type="text"
             class="form-control"
             required="true"
             placeholder="1d4"
             data-bind='textInput: damage'>
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="magicalModifier"
             class="control-label">Magical Modifier</label>
      <input type="number"
             class="form-control"
             placeholder="Place magical modifier here"
             data-bind='textInput: magicalModifier'>
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="toHitModifier"
             class="control-label">To Hit Modifier</label>
      <input type="number"
             class="form-control"
             placeholder="Adjust to hit modifier here"
             data-bind='textInput: toHitModifier'>
    </div>
    <div class="form-group col-sm-6 col-md-4 col-lg-3">
      <label for="type"
             class="control-label">Type</label>
      <input class="form-control"
             placeholder="Melee"
             required="true"
             data-bind="textInput: type,
             autocomplete: {
              source: $component.typeOptions,
              onselect: $component.setWeaponType }">
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="handedness"
             class="control-label">Handedness</label>
      <input class="form-control"
             placeholder="One-Handed"
             data-bind="textInput: handedness,
             autocomplete: {
              source: $component.handednessOptions,
              onselect: $parent.setWeaponHandedness }">
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="proficiency"
             class="control-label">Proficiency</label>
      <input class="form-control"
             placeholder="Simple"
             data-bind="textInput: proficiency,
             autocomplete: {
              source: $component.proficiencyOptions,
              onselect: $component.setWeaponProficiency }">
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="weaponWeight"
             class="control-label">Weight</label>
      <input type="number"
             min="0"
             class="form-control"
             placeholder="6"
             data-bind='textInput: weight'>
    </div>
    <div class="form-group col-sm-6 col-md-4 col-lg-3">
      <label for="range"
             class="control-label">Range</label>
      <input type="text"
             class="form-control"
             placeholder="25/100"
             data-bind='textInput: range'>
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="damageType"
             class="control-label">Damage Type</label>
      <input class="form-control"
             placeholder="Fire"
             data-bind="textInput: damageType,
             autocomplete: {
              source: $component.damageTypeOptions,
              onselect: $component.setWeaponDamageType }">
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="weaponProperty"
             class="control-label">Property</label>
      <input class="form-control"
             placeholder="Finesse"
             data-bind="textInput: property,
             autocomplete: {
              source: $component.propertyOptions,
              onselect: $component.setWeaponProperty }">
    </div>
    <div class="form-group  col-sm-6 col-md-4 col-lg-3">
      <label for="quantity"
             class="control-label">Quantity</label>
      <input type="number"
             min="0"
             class="form-control"
             placeholder="1"
             data-bind='textInput: quantity'>
    </div>
    <div class="form-group col-sm-6 col-md-6 col-lg-6">
      <label for="price"
             class="control-label">Price</label>
      <div class="input-group">
        <input type="number"
               min="0"
               class="form-control input-jquery-addon"
               placeholder="5"
               data-bind='textInput: price'>
        <span class="input-group-addon input-group-addon-jquery">
          <input class="form-control"
                 placeholder="GP"
                 data-bind="textInput: currencyDenomination,
                   autocomplete: {
                source: $component.currencyDenominationOptions,
                onselect: $component.setWeaponCurrencyDenomination }">
        </span>
      </div>
    </div>
    <div class="form-group col-xs-12">
      <label for="description"
             class="control-label">Description</label>
      <!-- ko if: $component.show -->
      <textarea class="form-control"
                rows="4"
                placeholder="A sword...that is short..."
                data-bind='textInput: description, markdownEditor: true'>
      </textarea>
      <small class="text-muted">
        Text in this panel can be styled using Markdown. Click
        <a target="_blank"
          href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">here</a> to see a guide.
      </small>
      <!-- /ko -->
    </div>
    <div class="col-xs-12">
    <form-card-footer params="{
        reset: $component.reset,
        delete: $component.delete,
        addForm: $component.addForm,
        showDisclaimer: $component.showDisclaimer
      }"></form-card-footer>
      </div>
</form>
